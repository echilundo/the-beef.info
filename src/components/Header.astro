---
import Container from "@components/Container.astro";
import Navigation from "@components/Navigation.astro";
---

<header id="header" role="banner" aria-label="Site header">
  <Container>
    <Navigation />
  </Container>
  <style>
    #header {
      transition: transform 0.3s ease-in-out;
    }

    #header.hide {
      transform: translateY(-100%);
    }
  </style>
  <script>
    let lastScrollTop = 0;
    const header = document.getElementById("header");

    const handleScroll = () => {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const isScrollingDown = scrollTop > lastScrollTop;
      
      if (header) {
        header.classList.toggle("hide", isScrollingDown);
        // Update aria-hidden for screen readers when header is hidden
        header.setAttribute("aria-hidden", isScrollingDown.toString());
      }
      
      lastScrollTop = scrollTop;
    };

    // Use passive scroll listener for better performance
    window.addEventListener("scroll", handleScroll, { passive: true });
  </script>
</header>
